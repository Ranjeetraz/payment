<!-- payment.html -->
<script src="https://js.stripe.com/v3/"></script>

<button id="checkout-button">Pay Now</button>

<script>
  const stripe = Stripe("{{ STRIPE_PUBLISHABLE_KEY }}");  // Publishable key use karein

  document.getElementById("checkout-button").addEventListener("click", function () {
    fetch("/create-checkout-session/", { method: "POST" })
      .then(response => response.json())
      .then(data => {
        return stripe.redirectToCheckout({ sessionId: data.id });
      })
      .catch(error => console.error("Error:", error));
  });
</script>
